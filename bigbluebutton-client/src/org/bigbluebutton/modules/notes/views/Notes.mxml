<?xml version="1.0" encoding="utf-8"?>
<MDIWindow xmlns="flexlib.mdi.containers.*" xmlns:mx="http://www.adobe.com/2006/mxml" 
	width="400" height="300" xmlns:mate="http://mate.asfusion.com/" implements="org.bigbluebutton.common.IBbbModuleWindow">
	<mx:Script>
		<![CDATA[
			import org.bigbluebutton.common.mate.SharedObjectEvent;
			import mx.controls.Alert;
			import org.bigbluebutton.modules.notes.events.MessageEvent;
			
			private var _xPosition:int;
			private var _yPosition:int;
			
			private function displayNewMessage(messageObject:Object):void{
				var sharedObjectEvent:SharedObjectEvent = messageObject as SharedObjectEvent;
				//var msgEvent:MessageEvent = sharedObjectEvent.message as MessageEvent;
				txtArea.text = sharedObjectEvent.message as String;
			}
			
			private function sendNewMessage():void{
				var messageEvent:MessageEvent = new MessageEvent(MessageEvent.NEW);
				messageEvent.message = txtArea.text;
				dispatchEvent(messageEvent);
			}
			
			public function get xPosition():int {
				return _xPosition;
			}
			
			public function get yPosition():int {
				return _yPosition;
			}
			
			public function set xPosition(x:int):void {
				_xPosition = x;
			}
			
			public function set yPosition(y:int):void {
				_yPosition = y;
			}
			
		]]>
	</mx:Script>
	
	<mx:TextArea id="txtArea" width="100%" height="100%" keyUp="sendNewMessage()" />
	
	<!--<mate:Dispatcher id="messageDispacher" generator="{MessageEvent}" type="{MessageEvent.NEW}">
		<mate:ResponseHandler type="newMessageResponse" response="displayNewMessage(event.messageResult)" />
		<mate:eventProperties>
			<mate:EventProperties message="{txtArea.text}" />
		</mate:eventProperties>
	</mate:Dispatcher>-->
</MDIWindow>
