<?xml version="1.0" encoding="utf-8"?>
<mx:HBox xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" creationComplete="init()">
   <mx:Script>
   	<![CDATA[
   		import org.bigbluebutton.modules.listeners.ListenersModuleConstants;
   		import org.bigbluebutton.common.Role;
   		import org.bigbluebutton.modules.listeners.view.components.Images;
   		import mx.controls.Image;
		import mx.events.DragEvent;
	    import flash.events.MouseEvent;
	    import mx.core.DragSource;
	    import mx.managers.DragManager;
	    import mx.controls.Label;
	    import mx.collections.ArrayCollection;
	    import mx.controls.TileList;
			
		private var userRole : String = Role.MODERATOR;			

   		private var images:Images = new Images();
   		
   		[Bindable] private var muteIcon:Class = images.sound_mute;
   		[Bindable] private var talkIcon : Object = images.sound;   		
   		[Bindable] private var ejectIcon : Object = images.eject_user;  		  		
   		[Bindable] private var statusTooltip : String = "";
   		[Bindable] private var ejectTooltip : String = "Click to eject user.";   		   		
	
   		private function init() : void
   		{
   			displayStatusIcon();   			
   		}
   		   		
   		public function displayStatusIcon() : void
   		{
   			if (data.muted) {
   				muteIcon = images.sound_mute;
   				muteBtn.toolTip = "Click to unmute user.";
   			} else {
   				muteIcon = images.sound_none;
   				muteBtn.toolTip = "Click to mute user.";   				
    		} 
    		
   			if (data.talking) {
   				talkIcon = images.sound;
   				talkImg.toolTip = "Talking";
   				talkImg.visible = true;
   			} else {
   				talkImg.visible = false;
   			}    	
   		}
   			   	
       public function muteUser():void
       {
       		//this.parentDocument.userid = this.data.userid;
       		//this.parentDocument.isMuted != this.data.isMuted;
       		//dispatchEvent(new Event(ListenersModuleConstants.MUTE_UNMUTE_USER));
       }
	   
	
   	]]>
   </mx:Script>
   		<mx:Button id="muteBtn" icon="{muteIcon}" click="muteUser()" width="18" height="16"/>
	    <mx:Label id="nameLabel" text="{data.callerName}"/>
		<mx:Image id="talkImg" source="{talkIcon}" visible="{data.talking}" toolTip="Talking"/>
</mx:HBox>
