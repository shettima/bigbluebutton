<?xml version="1.0" encoding="utf-8"?>
<cam:MDIWindow xmlns:mx="http://www.adobe.com/2006/mxml"
					  xmlns:cam="flexlib.mdi.containers.*"
					  xmlns:util="org.bigbluebutton.modules.video.view.components.*"
					  xmlns:monitor="org.bigbluebutton.modules.video.view.monitor.*"
					  resizable="false" width="326" height="312" 
					  implements="org.bigbluebutton.common.IBbbModuleWindow"
					  creationComplete="startBroadcasting()">
	<mx:Script>
		<![CDATA[
			import org.bigbluebutton.modules.video.view.components.Images;
			import org.bigbluebutton.modules.video.model.vo.BroadcastMedia;
					
			import flash.events.*;
			import mx.managers.PopUpManager;
			import mx.controls.*;
			import mx.binding.utils.BindingUtils;		
			import mx.events.CloseEvent;            
            import mx.containers.TitleWindow;
            import flash.geom.Point;			

			public static const BROADCAST_STREAM:String = "BROADCAST_STREAM";
			public static const STOP_BROADCAST_STREAM:String = "STOP_BROADCAST_STREAM";
			public static const START_DEVICES:String = "START_DEVICES";
			public static const STOP_DEVICES:String = "STOP_DEVICES";
			public static const WINDOW_CLOSE_EVENT:String = "WINDOW_CLOSE_EVENT";
			public static const CLOSE_CLICKED:String = "Close Clicked";
			public static const OPEN_SETTINGS:String = "Open Settings";
		
			private var _xPosition:int;
			private var _yPosition:int;
					
			private var images:Images = new Images();
			
			[Bindable] public var media:BroadcastMedia;
		    [Bindable] private var serverLogo : Class = images.red5_img;
			
            public override function close(event:MouseEvent = null):void 
            { 	
            	trace('closing camera window');
                 dispatchEvent(new Event(STOP_BROADCAST_STREAM));
                 dispatchEvent(new Event(WINDOW_CLOSE_EVENT));
                 super.close(event); 
            } 
            
			public function startBroadcasting():void
			{
				dispatchEvent(new Event(BROADCAST_STREAM));
			}       
			
			public function get xPosition():int {
				return _xPosition;
			}
			
			public function get yPosition():int {
				return _yPosition;
			}
			
			public function set xPosition(x:int):void {
				_xPosition = x;
			}
			
			public function set yPosition(y:int):void {
				_yPosition = y;
			}

		]]>
	</mx:Script>
		<mx:Canvas id="monDisplay" width="320" height="240"
				backgroundColor="0xFFFFFF" borderStyle="solid" borderColor="0xD0D0D0"
				paddingBottom="0" cornerRadius="2">
			<util:VideoContainer id="localVideo" height="100%" width="100%"/>
		</mx:Canvas>
</cam:MDIWindow>
